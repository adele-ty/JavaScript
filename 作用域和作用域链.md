# 作用域
在JavaScript中，作用域是指变量和函数的可访问范围。JavaScript采用词法作用域，也就是说，变量和函数的作用域是在定义时就确定了。在JavaScript中，作用域分为全局作用域和局部作用域。  
全局作用域是指在函数外部定义的变量和函数，可以在代码的任何地方被访问。而局部作用域是指在函数内部定义的变量和函数，只能在函数内部被访问。  
1. 全局作用域  
在代码中任何地方都能访问到的对象拥有全局作用域，一般来说以下几种情形拥有全局作用域：  
* 最外层函数 和在最外层函数外面定义的变量拥有全局作用域  
* 所有末定义直接赋值的变量自动声明为拥有全局作用域  
* 所有window对象的属性拥有全局作用域  
弊端：会造成全局污染，引起命名冲突  
2. 函数作用域，在函数内部可访问到的变量拥有函数作用域  
3. 块级作用域  
let和const声明的变量存在块级作用域，在指定块的作用域外无法被访问。块级作用域在如下情况被创建：  
* 在一个函数内部  
* 在一个代码块（由一对花括号包裹）内部  
块级作用域有以下几个特点：  
* 声明变量不会提升到代码块顶部  
* 禁止重复声明  
* 循环中的绑定块作用域的妙用。for循环有一个特别之处，就是设置循环变量的那部分是一个父作用域，而循环体内部是一个单独的子作用域。
# 作用域链
作用域链是JavaScript中用于解决变量查找的一种机制。在JavaScript中，每个函数都有自己的作用域链。当在函数内部访问一个变量时，JavaScript引擎会先在当前函数的作用域内查找该变量，如果找不到，就会沿着作用域链向上查找，直到找到该变量或者到达全局作用域为止。  
作用域链的构建过程是在函数定义时确定的，而不是在函数调用时确定的。当函数被定义时，它的作用域链就被创建了，包括当前函数的作用域和外部函数的作用域，一直到全局作用域。当函数被调用时，JavaScript引擎会创建一个执行环境，并将该函数的作用域链添加到执行环境中，以便在执行函数时查找变量。  
需要注意的是，JavaScript采用的是词法作用域和静态作用域链，也就是说，作用域链的构建是在函数定义时确定的，而不是在函数调用时确定的。因此，在函数内部定义的变量和函数，无论在何处执行，都可以访问到它们所在的作用域链中的变量和函数。  

参考[作用域和作用域链](https://github.com/mqyqingfeng/Blog/issues/3)