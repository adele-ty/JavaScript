# 事件流及事件委托（代理）
事件流：事件流是指事件在DOM树中的传播过程。事件从发生的元素开始，逐层向上传播，直到根元素。每个元素都可以选择是否处理事件，并对事件进行处理。一般情况下，事件流可以分为三个阶段：事件冒泡阶段，捕获阶段，和目标阶段。  
* 事件捕获：当一个事件触发后，从Window对象触发，不断经过下级节点，直到目标节点。在事件到达目标节点之前的过程就是捕获阶段。所有经过的节点，都会触发对应的事件。  
* 事件冒泡：当事件到达目标节点后，会沿着捕获阶段的路线原路返回。同样，所有经过的节点，都会触发对应的事件。  

事件委托：利用事件冒泡机制将事件处理程序附加到祖先元素上，以便处理其后代元素的事件。  
实现：addEventListener(type, listener, useCapture)，通过removeEventListener()移除事件处理函数，默认在冒泡阶段触发事件，可以将addEventListener的第三个参数改为true，将在捕获阶段来触发事件。  

下面是一个使用事件委托的示例代码：
```c
<ul id="myList">
  <li>Item 1</li>
  <li>Item 2</li>
  <li>Item 3</li>
  <li>Item 4</li>
  <li>Item 5</li>
</ul>

<script>
// 在祖先元素上附加事件处理程序
document.getElementById("myList").addEventListener("click", function(event) {
  // 检查点击的是一个li元素
  if (event.target.tagName === "LI") {
    // 处理li元素的点击事件
    console.log("You clicked on " + event.target.textContent);
  }
});
</script>
```
在上述示例中，我们在祖先元素（即ul元素）上附加了一个事件处理程序，以便在其后代元素（即li元素）被单击时处理事件。当用户单击li元素时，事件将向上冒泡到ul元素，然后触发ul元素的事件处理程序。在事件处理程序中，我们检查单击的元素是否为li元素，如果是，则处理该元素的点击事件并输出相应的消息。  

使用事件委托的优点是减少了事件处理程序的数量，并且可以动态地处理新添加的元素的事件，而不需要重新附加事件处理程序。这样可以提高页面性能，并使代码更简洁和易于维护。